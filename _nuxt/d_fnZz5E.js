import{f as e,a8 as l,a9 as a,aa as t,p as r,h as s,q as o,i as n,s as c,l as i,z as u,x as p,ab as d,C as x,c as v,o as m,D as g,G as h,I as f,b as k,j as b,F as _,r as y,n as w,d as C,t as F,w as $,a as V,K as j,J as S,V as A,S as G,H as z,e as R,N as B,ac as N,ad as H,X as T,$ as U,a0 as E,ae as I,W as P,a4 as M,a2 as D,af as L,_ as W}from"./C1fvdsSF.js";import{E as q,a as O}from"./rP0JeNkw.js";import{E as J,a as K}from"./X6ThVr0t.js";import{E as Q}from"./B9V7tZnB.js";import{E as X}from"./ByxZ288l.js";import"./BfEthlv8.js";import"./BpYdBJN9.js";import{V as Y}from"./oxj64xAu.js";import{_ as Z}from"./DLELZeV_.js";import{g as ee,a as le,r as ae,b as te,c as re,d as se,e as oe,f as ne,m as ce}from"./fqR6pdbk.js";import"./Cg-3-cPy.js";const ie={key:0,class:"flex items-center px-12px mt-12px gap-8px overflow-x-auto scrollbar-hide"},ue=["onClick"],pe={key:0},de=["onClick"],xe={class:"ml-4px text-14px"},ve=["onClick"],me={class:"ml-4px text-14px"},ge={key:1,class:"px-15px"},he={class:"flex items-center justify-between mt-12px gap-12px"},fe=["onClick"],ke=["onClick"],be={class:"flex items-center justify-between mt-12px gap-12px"},_e={class:"flex items-center justify-between mt-12px gap-12px"},ye={key:0},we={key:0,class:"flex flex-col items-center justify-center py-30px"},Ce={key:0,src:U},Fe={key:1,src:E},$e={key:1},Ve={class:"text-12px mt-10px"},je={class:"flex items-center"},Se={class:"text-[#848E9C] text-12px mr-5px"},Ae={class:"relative ml-3px"},Ge=["src"],ze=["src"],Re=["src"],Be={class:"ml-5px"},Ne={class:"flex items-center"},He={class:"text-13px"},Te={class:"text-12px text-[--d-666-l-999] ml-4px"},Ue=["href"],Ee={class:"flex items-center mt-2px"},Ie=["title"],Pe=["onClick"],Me=["href"],De=["href"],Le=["innerHTML"],We={key:0,class:"text-[#12b886]"},qe={key:1,class:"text-[#848E9C]"},Oe={key:2,class:"text-[#ff646d]"},Je={class:"flex items-center justify-between mt-12px gap-12px"},Ke=W(e({__name:"index",setup(e){const U=l(),E=a(),W=t(),Ke=r(),{t:Qe}=s(),Xe=o(0),Ye=o([]),Ze=n((()=>[{label:Qe("defaultGroup"),value:0},...Ye.value])),el=o([]),ll=o(""),al=o(),tl=o(),rl=o(),sl=o(),ol=o(""),nl=o(void 0),cl=o(""),il=o(!1),ul=o({x:0,y:0}),pl=o({getBoundingClientRect:()=>({width:0,height:0,top:ul.value.y,left:ul.value.x,bottom:ul.value.y,right:ul.value.x}),get clientWidth(){return 0},get clientHeight(){return 0}}),dl=o({}),xl=o(!1),vl=o({total:0,page:1,pageSize:50}),ml=o([]),{mode:gl}=c(i()),hl=n((()=>U.evmAddress||E.address));u((()=>E.walletSignature[E.address]),(e=>{e&&(Cl(),Fl())})),u((()=>U.evmAddress),(e=>{e?(Cl(),Fl()):(ml.value=[],Ye.value=[])})),u((()=>E.address),(e=>{e?(Cl(),Fl()):(ml.value=[],Ye.value=[])}));const fl=e=>{Xe.value=e,vl.value.page=1,Cl()},kl=()=>{nl.value=void 0,ol.value=""},bl=()=>{el.value=L(Ye.value)},_l=async()=>{var e;const l=X.service();try{null==(e=sl.value)||e.hide(),await se({address:hl.value,group:el.value.map((e=>e.group_id))}),l.close(),Ye.value=L(el.value),D.success(Qe("success"))}catch(a){l.close()}},yl=e=>{const l=!!(null==e?void 0:e.token)&&["inscription",":","("].some((l=>e.token.includes(l)));"brc20"===e.chain||"runes"===e.chain||l?Ke.push(`/brc/${e.token}-${e.chain}?from=/follow/token`):Ke.push(`/token/${e.token}-${e.chain}?from=/follow/token`)},wl=({prop:e,order:l})=>{e&&("ascending"===l?ml.value=ml.value.toSorted(((l,a)=>l[e]-a[e])):"descending"===l?ml.value=ml.value.toSorted(((l,a)=>a[e]-l[e])):Cl())},Cl=async()=>{var e;const l=await ee({address:hl.value,group:Xe.value,pageNO:vl.value.page,pageSize:vl.value.pageSize}),a=l.data&&(null==(e=l.data)?void 0:e.map((e=>({id:`${e.token}-${e.chain}`,...e,price_change_24h:"brc20"==(null==e?void 0:e.chain)?e.price_change_v2||0:e.price_change||0,pool_circulating_supply:(e.total-e.lock_amount-e.burn_amount-e.other_amount)*e.current_price_usd,group_id:Xe.value}))))||[];vl.value.total=l.total,ml.value=a},Fl=async()=>{const e=await le(hl.value);Ye.value=(e||[]).filter((e=>!!e.name)).map((e=>({...e,label:e.name,value:e.group_id})))};return p((()=>{(U.evmAddress||E.address)&&(Cl(),Fl())})),(e,l)=>{const a=S,t=A,r=G,s=P,o=I,n=B,c=R,i=q,u=d("router-link"),p=K,L=J,X=O,ee=Q,le=x("copy"),se=x("tooltip"),Ke=z;return m(),v("div",null,[b(U).evmAddress||b(E).address?(m(),v("div",ie,[(m(!0),v(_,null,y(Ze.value,((e,s)=>(m(),v("div",{key:e.value,class:w(["cursor-pointer text-12px color-[--d-999-l-666] bg-[--d-15171c-l-f2f2f2] px-12px h-28px rounded-4px shrink-0 flex items-center",[Xe.value===e.value&&"bg-[--d-333-l-0A0B0C] color-[#F5F5F5]"]]),onClick:l=>fl(e.value)},[C(F(e.label)+" ",1),k(r,{trigger:"click",onHide:kl,ref_for:!0,ref_key:"editGroupPopoverRef",ref:rl,width:nl.value?250:100,"popper-style":"min-width: 86px;padding: 10px 0;"},{reference:$((()=>[e.value>0?(m(),f(a,{key:0,onClick:l[0]||(l[0]=j((()=>{}),["stop"])),name:"custom:set-up",class:"text-12px ml-2px"})):g("",!0)])),default:$((()=>[V("div",null,[nl.value?(m(),v("div",ge,[V("div",null,F(b(Qe)("rename")),1),k(t,{modelValue:ol.value,"onUpdate:modelValue":l[1]||(l[1]=e=>ol.value=e),placeholder:b(Qe)("enterGroupName"),class:"mt-8px w-100%"},null,8,["modelValue","placeholder"]),V("div",he,[V("div",{onClick:e=>{var l;return null==(l=rl.value[s])?void 0:l.hide()},class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},F(b(Qe)("cancel")),9,fe),V("div",{onClick:l=>(async(e,l)=>{var a;if(!ol.value.trim())return D.error(Qe("enterGroupName"));if(ol.value.length>20)return D.error(Qe("maximum10characters"));try{await re(ol.value,e.value,hl.value),D.success(Qe("success")),null==(a=rl.value[l])||a.hide(),Fl()}catch(t){}})(e,s),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},F(b(Qe)("confirm")),9,ke)])])):(m(),v("div",pe,[V("div",{class:"flex items-center cursor-pointer hover:bg-[--d-333-l-0A0B0C] hover:color-[#F5F5F5] px-10px py-5px",onClick:j((l=>(e=>{nl.value=e.value,ol.value=e.label})(e)),["stop"])},[k(a,{name:"fe:edit",class:"color-#666 text-14px"}),V("view",xe,F(b(Qe)("rename")),1)],8,de),V("div",{class:"flex items-center cursor-pointer hover:bg-[--d-333-l-0A0B0C] hover:color-[#F5F5F5] px-10px py-5px",onClick:j((l=>(async e=>{await M.confirm(Qe("removeFavGroupTips"),Qe("tips"),{confirmButtonText:Qe("confirm"),cancelButtonText:Qe("cancel"),dangerouslyUseHTMLString:!0,customClass:""}),await ae(e,hl.value),D.success(Qe("success")),Fl(),Xe.value!==e&&0!==Xe.value||fl(0)})(e.value)),["stop"])},[k(a,{name:"bx:bxs-trash-alt",class:"text-15px color-#666"}),V("view",me,F(b(Qe)("delete")),1)],8,ve)]))])])),_:2},1032,["width"])],10,ue)))),128)),k(r,{trigger:"click",onShow:l[6]||(l[6]=e=>al.value.focus()),onHide:l[7]||(l[7]=e=>ol.value=""),ref_key:"addGroupPopoverRef",ref:tl,width:250},{reference:$((()=>[V("div",{style:{background:"rgba(63, 128, 247, 0.10)"},onClick:l[2]||(l[2]=e=>nl.value=void 0),class:"cursor-pointer text-12px color-[#3F80F7] px-12px h-28px rounded-4px shrink-0 flex items-center"},[k(a,{name:"custom:add-icon",class:"text-12px mr-2px"}),C(" "+F(b(Qe)("newGroup")),1)])])),default:$((()=>[V("div",null,[V("div",null,F(b(Qe)("newGroup")),1),k(t,{ref_key:"addGroupInputRef",ref:al,modelValue:ol.value,"onUpdate:modelValue":l[3]||(l[3]=e=>ol.value=e),placeholder:b(Qe)("enterGroupName"),class:"mt-8px w-200px"},null,8,["modelValue","placeholder"]),V("div",be,[V("div",{onClick:l[4]||(l[4]=e=>{var l;return null==(l=tl.value)?void 0:l.hide()}),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},F(b(Qe)("cancel")),1),V("div",{onClick:l[5]||(l[5]=e=>(async()=>{var e;return ol.value.trim()?ol.value.length>20?D.error(Qe("maximum10characters")):Ye.value.some((e=>e.label===ol.value))?D.error(Qe("groupExistT")):(await te(ol.value,hl.value),D.success(Qe("success")),null==(e=tl.value)||e.hide(),void Fl()):D.error(Qe("enterGroupName"))})()),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},F(b(Qe)("confirm")),1)])])])),_:1},512),k(r,{trigger:"click",onHide:l[11]||(l[11]=e=>ll.value=""),ref_key:"moveGroupPopoverRef",ref:sl,width:250},{reference:$((()=>[V("div",{style:{background:"rgba(63, 128, 247, 0.10)"},onClick:bl,class:"cursor-pointer text-12px color-[#3F80F7] px-12px h-28px rounded-4px shrink-0 flex items-center"},[k(a,{name:"custom:list-icon",class:"text-12px mr-2px"}),C(" "+F(b(Qe)("groupManage")),1)])])),default:$((()=>[V("div",null,[V("div",null,F(b(Qe)("groupManage")),1),k(t,{modelValue:ll.value,"onUpdate:modelValue":l[8]||(l[8]=e=>ll.value=e),class:"mt-8px",placeholder:b(Qe)("searchGroup")},null,8,["modelValue","placeholder"]),k(b(Y),{modelValue:el.value,"onUpdate:modelValue":l[9]||(l[9]=e=>el.value=e),sort:!0,"ghost-class":"ghost",animation:300},{default:$((()=>[(m(!0),v(_,null,y(el.value.filter((e=>e.label.includes(ll.value))),(e=>(m(),v("div",{class:"py-12px px-8px flex justify-between items-center hover:bg-[--d-2A2A2A-l-F2F2F2] cursor-move",key:e.value},[C(F(e.label)+" ",1),k(a,{name:"custom:move-icon",class:"text-16px shrink-0 ml-5px"})])))),128))])),_:1},8,["modelValue"]),V("div",_e,[V("div",{onClick:l[10]||(l[10]=e=>{var l;return null==(l=sl.value)?void 0:l.hide()}),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},F(b(Qe)("cancel")),1),V("div",{onClick:_l,class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},F(b(Qe)("confirm")),1)])])])),_:1},512)])):g("",!0),h((m(),f(X,{class:"mt-12px",height:"calc(100vh - 250px)",data:ml.value,fit:"",onSortChange:wl,onRowClick:yl},{empty:$((()=>[b(U).evmAddress||b(E).address?(m(),v("div",ye,[xl.value?(m(),v("span",$e)):(m(),v("div",we,["light"===b(gl)?(m(),v("img",Ce)):g("",!0),"dark"===b(gl)?(m(),v("img",Fe)):g("",!0),V("span",null,F(b(Qe)("emptyNoData")),1)]))])):(m(),f(o,{key:1},{default:$((()=>[V("span",Ve,F(e.$t("noWalletTip")),1),k(s,{type:"primary",class:"mt-10px",onClick:l[12]||(l[12]=e=>b(U).$patch({connectVisible:!0}))},{default:$((()=>[C(F(e.$t("connectWallet")),1)])),_:1})])),_:1}))])),default:$((()=>[k(i,{label:b(Qe)("poolPair"),"min-width":"160","show-overflow-tooltip":""},{default:$((({row:t,$index:r})=>[k(c,{to:`/token/${t.token}-${t.chain}`,onClick:l[17]||(l[17]=j((()=>{}),["stop","prevent"]))},{default:$((()=>{var s;return[V("div",je,[V("span",Se," #"+F((vl.value.page-1)*vl.value.pageSize+r+1),1),hl.value?(m(),f(a,{key:0,name:"material-symbols:kid-star",class:"color-var(--d-999-l-666) h-16px w-16px clickable shrink-0 color-#ffbb19",onClick:j((e=>(e=>{xl.value=!0,ne(`${e.token}-${e.chain}`,hl.value).then((()=>{Cl()})).catch((e=>{})).finally((()=>{xl.value=!1}))})(t)),["stop","prevent"])},null,8,["onClick"])):g("",!0),V("div",Ae,[k(n,{class:"w-32px h-32px rounded-full",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:b(N))({chain:null==t?void 0:t.chain,symbol:t.symbol,logo_url:t.logo_url}),lazy:""},{error:$((()=>[V("img",{class:"w-32px h-32px rounded-full",src:b(H)(null==t?void 0:t.chain,t.symbol)},null,8,Ge)])),placeholder:$((()=>[V("img",{class:"w-32px h-32px rounded-full",src:b(H)(null==t?void 0:t.chain,t.symbol)},null,8,ze)])),_:2},1032,["src"]),(null==t?void 0:t.chain)?(m(),v("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-3px",src:`${b(W).token_logo_url}chain/${null==t?void 0:t.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,Re)):g("",!0)]),V("div",Be,[V("div",Ne,[V("span",He,F(t.symbol),1),V("div",Te,F(`[*${null==(s=null==t?void 0:t.token)?void 0:s.slice(-6)}]`),1),h(k(a,{onClick:l[13]||(l[13]=j((()=>{}),["stop","prevent"])),name:"bxs:copy",class:"ml-4px clickable text-[--d-666-l-999]"},null,512),[[le,null==t?void 0:t.token]]),V("a",{class:"ml-4px",href:`https://x.com/search?q=(${null==t?void 0:t.symbol}OR${null==t?void 0:t.token})&src=typed_query&f=live`,target:"_blank",onClick:l[14]||(l[14]=j((()=>{}),["stop"]))},[k(a,{class:"text-[--d-666-l-999] h-12px w-12px",name:"custom:search"})],8,Ue)]),V("div",Ee,[t.remark?(m(),v("span",{key:0,class:"text-[#3f80f7] border-[0.5px] border-solid border-[#3f80f7] rounded-4px bg-transparent text-10px px-4px max-w-[60px] truncate",title:t.remark},F(t.remark),9,Ie)):g("",!0),V("div",{ref:"buttonRef",onClick:j((e=>((e,l)=>{const a=l.currentTarget.getBoundingClientRect();ul.value={x:a.left+a.width/2,y:a.top+a.height/2},il.value=!0,dl.value=e,cl.value=e.remark||""})(t,e)),["stop","prevent"])},[k(a,{class:"text-[--d-666-l-999] w-12px h-12px ml-4px",name:"custom:remark"})],8,Pe),(null==t?void 0:t.twitter)?h((m(),v("a",{key:1,class:"flex items-center",href:null==t?void 0:t.twitter,target:"_blank",onClick:l[15]||(l[15]=j((()=>{}),["stop"]))},[k(a,{name:"custom:twitter",class:"text-[--d-666-l-999] h-14px w-14px ml-4px"})],8,Me)),[[se,null==t?void 0:t.twitter]]):g("",!0),(null==t?void 0:t.telegram)?h((m(),v("a",{key:2,class:"flex items-center",href:null==t?void 0:t.telegram,target:"_blank",onClick:l[16]||(l[16]=j((()=>{}),["stop"]))},[k(a,{name:"custom:tg",class:"text-[--d-666-l-999] h-14px w-14px ml-4px"})],8,De)),[[se,null==t?void 0:t.telegram]]):g("",!0)])])])]})),_:2},1032,["to"])])),_:1},8,["label"]),k(i,{label:b(Qe)("holders"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"holders",align:"right"},{default:$((({row:e})=>[V("span",null,F(e.holders),1)])),_:1},8,["label"]),k(i,{label:b(Qe)("price"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"current_price_usd",align:"right"},{default:$((({row:e})=>[V("span",{innerHTML:"$"+b(T)(e.current_price_usd)},null,8,Le)])),_:1},8,["label"]),k(i,{label:b(Qe)("marketCap"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"pool_circulating_supply",align:"right"},{default:$((({row:e})=>[C(" $"+F(b(T)(e.pool_circulating_supply||0,2,4,1e4)),1)])),_:1},8,["label"]),k(i,{label:"24h%",sortable:"custom","sort-orders":["descending","ascending",null],prop:"price_change_24h",align:"right"},{default:$((({row:e})=>[Number(e.price_change_24h||0)>0?(m(),v("span",We," +"+F(b(T)(e.price_change_24h||0,2))+"% ",1)):0==Number(e.price_change_24h||0)?(m(),v("span",qe," 0% ")):(m(),v("span",Oe,F(b(T)(e.price_change_24h||0,2))+"%",1))])),_:1}),k(i,{label:b(Qe)("riskScore"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"risk_score",align:"right"},{default:$((({row:e})=>[k(u,{to:{path:`/check/${e.token}-${e.chain}`},onClick:l[18]||(l[18]=j((()=>{}),["stop"]))},{default:$((()=>[k(Z,{progress:Number(e.risk_score/100)||0,width:40,thickness:2,big:!1,height:20,textHeight:15,end:!0,fontSize:"12px",class:"arc-progress"},null,8,["progress"])])),_:2},1032,["to"])])),_:1},8,["label"]),k(i,{label:b(Qe)("24Volume"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"tx_volume_u_24h",align:"right"},{default:$((({row:e})=>[C(" $"+F(b(T)((null==e?void 0:e.tx_volume_u_24h)||0,2,4,1e4)),1)])),_:1},8,["label"]),k(i,{label:b(Qe)("24TxAddress"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"tx_count_24h",align:"right"},{default:$((({row:e})=>[C(F(b(T)((null==e?void 0:e.tx_count_24h)||0,2,4,1e4)),1)])),_:1},8,["label"]),k(i,{label:b(Qe)("tokenGroup"),align:"right"},{default:$((({row:e})=>[k(L,{modelValue:e.group_id,"onUpdate:modelValue":l=>e.group_id=l,style:{width:"100px"},"popper-class":"follow-select-popper",filterable:"",onClick:l[19]||(l[19]=j((()=>{}),["stop"])),onChange:l=>(async(e,l)=>{const a=l.token+"-"+l.chain;await ce(a,e,hl.value),Cl()})(l,e)},{default:$((()=>[(m(!0),v(_,null,y(Ze.value,(e=>(m(),f(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),_:1},8,["label"])])),_:1},8,["data"])),[[Ke,xl.value]]),vl.value.total>1?(m(),f(ee,{key:1,class:"mt-15px","current-page":vl.value.page,"onUpdate:currentPage":l[20]||(l[20]=e=>vl.value.page=e),"page-size":vl.value.pageSize,"onUpdate:pageSize":l[21]||(l[21]=e=>vl.value.pageSize=e),layout:"prev, pager, next, ->",total:vl.value.total,"page-sizes":[10,20,30,40,50,60],onChange:Cl},null,8,["current-page","page-size","total"])):g("",!0),k(r,{visible:il.value,"virtual-ref":pl.value,"virtual-triggering":"",trigger:"click",width:250},{default:$((()=>[V("div",null,[V("div",null,F(b(Qe)("editRemark")),1),k(t,{modelValue:cl.value,"onUpdate:modelValue":l[22]||(l[22]=e=>cl.value=e),clearable:"",maxlength:"50","show-word-limit":"",placeholder:b(Qe)("enterRemark"),class:"mt-8px w-200px"},null,8,["modelValue","placeholder"]),V("div",Je,[V("div",{onClick:l[23]||(l[23]=e=>il.value=!1),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},F(b(Qe)("cancel")),1),V("div",{onClick:l[24]||(l[24]=e=>(async e=>{if(cl.value.length>50)return D.error(Qe("remarkError"));const l=e.token+"-"+e.chain;await oe(l,cl.value,hl.value),D.success(Qe("success")),il.value=!1,Cl()})(dl.value)),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},F(b(Qe)("confirm")),1)])])])),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-6f2f3e6f"]]);export{Ke as default};
