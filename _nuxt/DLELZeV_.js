import{d8 as t,f as e,h as s,q as r,i,z as o,x as n,c as a,o as l,a as h,D as c,P as p,bg as u,t as d,_ as f}from"./C1fvdsSF.js";var g,y={exports:{}};const v=t((g||(g=1,window,y.exports=function(t){var e={};function s(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,s=1,r=arguments.length;s<r;s++)for(var i in e=arguments[s])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__rest||function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]])}return s},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,s=arguments.length;e<s;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<s;e++)for(var o=arguments[e],n=0,a=o.length;n<a;n++,i++)r[i]=o[n];return r};Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),a=Math.PI,l=function(){function t(t){var e=this,s=t.size,i=t.el,o=t.textStyle,a=void 0===o?{}:o,l=t.arcStart,h=void 0===l?144:l,c=t.arcEnd,p=void 0===c?396:c,u=t.progress,d=t.text,f=t.thickness,g=t.fillThickness,y=void 0===g?0:g,v=t.emptyColor,m=t.fillColor,x=t.lineCap,b=t.animation,C=t.speed,k=void 0===C?0:C,S=t.customText,P=t.animationEnd,w=void 0===P?function(){}:P,O=t.onError,z=void 0===O?function(){}:O,T=t.observer;this.percentage=0,this.speed=1,this.speedOption=0,this.type="increase",this.isEnd=!1,this.emptyColor="#efefef",this.fillColor="#6bd5c8",this.lineCap="round",this.increaseValue=0,this.frequency=0,this.lastNumber=0,this.prevProgress=0,this.prevText="0",this.textValue=0,this.drawProgressAnimate=function(){!1===e.animation&&(e.percentage=e.progress),e.isEnd=e.percentage===e.progress,e.ctx.clearRect(0,0,e.size,e.size),e.drawBackground(),e.drawText(),e.drawProgress(),e.isEnd||("increase"===e.type||"decrease"===e.type)&&(e.accumulation(),e.requestAnimationFrame(e.drawProgressAnimate))},this.resetOptions=function(t){var s=t.progress,i=t.thickness,o=t.textStyle,n=t.size,a=t.speed;if("number"==typeof s){var l=100*s;e.type=l>e.progress?"increase":"decrease",e.progress=l,e.optionProgress=s}i&&(e.thickness=2*i),o&&(e.textStyle=r(r({},e.textStyle),o)),n&&(e.size=2*n),"number"==typeof a&&(e.speedOption=a)},this.size=2*(s||200),this.arcStart=h,this.arcEnd=p,this.optionProgress=u,this.progress=100*u,this.text=d,this.el=i,this.thickness=2*(f||12),this.fillThickness=2*y||this.thickness,this.animationEnd=w,this.onError=z,this.emptyColor=v,this.fillColor=m||this.fillColor,this.lineCap=x||this.lineCap,this.animation=b,this.textStyle=r({size:"18px",color:"#000",x:this.size/4,y:this.size/4},a),this.customText=S||[],this.observer=T,this.speedOption=k;var j="object"===n.type(this.fillColor)&&!!this.fillColor.image;this.init({updateImg:j})}return Object.defineProperty(t.prototype,"isEmptyProgressBig",{get:function(){return this.thickness>=this.fillThickness},enumerable:!0,configurable:!0}),t.prototype.init=function(t){var e=this,s=t||{},r=s.notCreate,i=s.updateImg;this.createCanvas(r),this.setSpeed(),this.text&&this.setIncreaseValue(),this.sourceLoad(i).then((function(){return e.drawProgressAnimate()})).catch((function(t){return e.onError(t)}))},t.prototype.createCanvas=function(t){var e="string"==typeof this.el?document.querySelector(this.el):this.el;t||(this.canvas=document.createElement("canvas"));var s=this.size/2;e.style.width=s+"px",e.style.height=s+"px",this.canvas.width=this.size,this.canvas.height=this.size,this.canvas.style.width=s+"px",this.canvas.style.height=s+"px",this.canvas.style.width="block",t||(e.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"))},t.prototype.drawBackground=function(){var t=this.ctx,e=this.size/2,s=this.arcStart/180*a,r=this.arcEnd/180*a;t.beginPath(),t.lineWidth=this.thickness,t.lineCap=this.lineCap,t.strokeStyle=this.emptyColor;var i=this.isEmptyProgressBig?e-this.thickness:e-this.thickness-(this.fillThickness-this.thickness);t.arc(e,e,i,s,r,!1),t.stroke(),t.closePath()},t.prototype.computedArc=function(){var t=this.arcStart/180,e=(this.arcEnd/180-t)*(this.percentage/100)+t;return{start:t*a,end:e*a}},t.prototype.setSpeed=function(){var t=this.speedOption,e=this.animation,s=this.progress,r=this.prevProgress,i=s>r?s-r:r-s;e&&"number"==typeof e?this.speed=i/(e/(1e3/60)):"number"==typeof t&&(this.speed=1,this.speed+=t>0?t/40:t/101),this.frequency=i/this.speed},t.prototype.setIncreaseValue=function(){var t=Number(this.text),e=Number(this.prevText),s=(t>e?t-e:e-t)/this.frequency;!n.isInt(this.text)||s%2&&s%5||(s=s-1>0?s-=1:1),this.increaseValue=s},t.prototype.computedText=function(){var t=this.lastNumber,e=n.isInt(this.text);if("increase"===this.type?this.textValue+=this.increaseValue:this.textValue-=this.increaseValue,this.isEnd)return this.text;if(!e){var s=this.text.split(".")[1].length;return this.lastNumber=9===t?0:t+1,s>1?this.textValue.toFixed(s-1)+this.lastNumber:this.textValue.toFixed(0)+"."+this.lastNumber}return String(Math.floor(this.textValue))},t.prototype.sourceLoad=function(t){var e=this;return new Promise((function(s,r){if("object"===n.type(e.fillColor)&&t){e.drawBackground();var i=e.fillColor.image,o=new Image;o.src=i,o.onload=function(){e.fillImage=o,s(!0)},o.onerror=function(t){r(t)}}else s(!1)}))},t.prototype.setFillColor=function(t){var e=n.type(this.fillColor);if("string"===e)t.strokeStyle=this.fillColor;else if("object"===e&&this.fillColor.image){var s=t.createPattern(this.fillImage,"no-repeat");t.strokeStyle=s}else{for(var r=this.fillColor.gradient,i=t.createLinearGradient(0,0,this.size,0),o=r.length,a=1/o,l=0,h=0;h<o;h++)i.addColorStop(l,r[h]),l+=a;t.strokeStyle=i}},t.prototype.drawProgress=function(){var t=this.ctx,e=this.size/2,s=this.computedArc(),r=s.start,i=s.end;t.beginPath(),t.lineWidth=this.fillThickness,t.lineCap=this.lineCap,this.setFillColor(t);var o=this.isEmptyProgressBig?e-this.fillThickness-(this.thickness-this.fillThickness):e-this.fillThickness;t.arc(e,e,o,r,i,!1),t.stroke(),t.closePath(),this.observer&&this.observer(this.percentage,this.currentText),this.isEnd&&this.animationEnd({progress:this.optionProgress,text:this.text})},t.prototype.setText=function(t,e){var s=e.text,r=e.size,i=void 0===r?"14px":r,o=e.color,n=void 0===o?"#000":o,a=e.x,l=void 0===a?10:a,h=e.y,c=void 0===h?10:h,p=e.font,u=void 0===p?"sans-seri":p,d=2*parseInt(i,10),f=i.substring(String(d).length)||"px";t.font=""+d+f+" "+u,t.fillStyle=n,t.textAlign="center",t.textBaseline="middle",t.fillText(s,2*l,2*c)},t.prototype.drawText=function(){var t=this.ctx,e=this.text&&this.computedText();this.currentText=e;var s=[];e&&s.push(r({text:e},this.textStyle)),s=o(s,this.customText);for(var i=0;i<s.length;i++)this.setText(t,s[i])},t.prototype.requestAnimationFrame=function(t){return window.requestAnimationFrame(t)},t.prototype.accumulation=function(){"increase"===this.type?(this.percentage+=this.speed,this.percentage>this.progress&&(this.percentage=this.progress)):(this.percentage-=this.speed,this.percentage<this.progress&&(this.percentage=this.progress))},t.prototype.updateProgress=function(t){var e=this;this.prevProgress=this.progress,this.prevText=this.text;var s=t.progress,r=t.thickness,o=t.textStyle,a=t.size,l=t.speed,h=i(t,["progress","thickness","textStyle","size","speed"]);if(this.isEnd&&this.prevProgress!==100*s){this.resetOptions({progress:s,thickness:r,textStyle:o,size:a,speed:l}),Object.keys(h||{}).forEach((function(t){return e[t]=h[t]}));var c="object"===n.type(h.fillColor)&&!h.fillColor.image;this.init({updateImg:c,notCreate:!0})}},t.prototype.destroy=function(){var t=this.canvas.parentNode;t&&t.removeChild(this.canvas)},t}();e.default=l},function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e.isInt=function(t){return void 0===t&&(t=""),1===t.split(".").length},e.type=function(t){return Object.prototype.toString.call(t).match(/[A-Z]\w+/)[0].toLowerCase()}}])),y.exports)),m=[];for(let P=0;P<256;++P)m.push((P+256).toString(16).slice(1));let x;const b=new Uint8Array(16);const C={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function k(t,e,s){var r;if(C.randomUUID&&!t)return C.randomUUID();const i=(t=t||{}).random??(null==(r=t.rng)?void 0:r.call(t))??function(){if(!x){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");x=crypto.getRandomValues.bind(crypto)}return x(b)}();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=15&i[6]|64,i[8]=63&i[8]|128,function(t,e=0){return(m[t[e+0]]+m[t[e+1]]+m[t[e+2]]+m[t[e+3]]+"-"+m[t[e+4]]+m[t[e+5]]+"-"+m[t[e+6]]+m[t[e+7]]+"-"+m[t[e+8]]+m[t[e+9]]+"-"+m[t[e+10]]+m[t[e+11]]+m[t[e+12]]+m[t[e+13]]+m[t[e+14]]+m[t[e+15]]).toLowerCase()}(i)}const S=f(e({__name:"arcProgress",props:{progress:{type:Number,default:0},width:{type:Number,default:260},thickness:{type:Number,default:20},big:{type:Boolean,default:!0},height:{type:Number,default:60},textHeight:{type:Number,default:30},end:{type:Boolean,default:!1},fontSize:{type:String,default:"12px"},colorList:{type:Array,default:()=>["#ccc","#81c54e","#f8be46","#FF354C"]}},setup(t){const e=t,{t:f}=s(),g="progress-container-"+k(),y=r(null),m=i((()=>Math.round(e.width/2))),x=t=>0===t?e.colorList[0]:t>0&&t<.4?e.colorList[1]:t>=.4&&t<.6?e.colorList[2]:e.colorList[3],b=i((()=>e.progress<.4?[e.colorList[1],f("seemsNoProblem")]:e.progress<.6?[e.colorList[2],f("possibleRisks")]:[e.colorList[3],f("highRisk")]));return o((()=>e.progress),(t=>{y.value&&y.value.updateProgress({progress:t,text:`${Math.round(100*t)}`,textStyle:e.big?{size:"40px",color:x(t),x:m.value,y:90,font:"Outfit-Medium"}:{size:e.fontSize||"12px",color:x(t),x:m.value,y:e.textHeight,font:"Outfit-Medium"},fillColor:x(t),emptyColor:e.colorList[0]})})),n((()=>{(()=>{const t=Math.round(100*e.progress);y.value=new v({el:`#${g}`,progress:e.progress,speed:5,value:t,animation:!1,text:`${t}`,textStyle:e.big?{size:"40px",color:x(e.progress),x:m.value,y:90,font:"Outfit-Medium"}:{size:e.fontSize||"12px",color:x(e.progress),x:m.value,y:e.textHeight,font:"Outfit-Medium"},arcStart:180,arcEnd:360,size:e.width,thickness:e.thickness,emptyColor:e.colorList[0],fillColor:x(e.progress),customText:e.big?[{text:f("riskAssessment"),size:"14px",color:"#aaa",x:m.value,y:120}]:[{text:"",size:"12px",color:"#aaa",x:m.value,y:0}],lineCap:"round"})})()})),(e,s)=>(l(),a("div",null,[h("div",{class:"progress-container",style:p({height:t.big?"140px !important":`${t.height}px !important`,"justify-content":t.end?"flex-end":"center"})},[h("div",{id:g})],4),t.progress>0&&t.big?(l(),a("div",{key:0,class:"checking-tips",style:p({color:b.value[0]})},[h("span",null,d(b.value[1]),1),u(e.$slots,"default",{},void 0,!0)],4)):c("",!0)]))}}),[["__scopeId","data-v-4343ea3a"]]);export{S as _,k as v};
