import{f as e,q as l,z as a,c as t,o,F as n,a as s,b as u,K as r,n as p,t as i,r as c,j as d,I as f,w as m,J as x,T as v,V as k,G as b,S as g,am as _,an as y,W as h,d as F,ao as C,_ as w}from"./C1fvdsSF.js";import V from"./D-g68Pzh.js";import{V as $}from"./oxj64xAu.js";import{C as R}from"./Cg-3-cPy.js";const A={class:"w-tabs flex-1 flex-wrap"},G=["onClick"],j={class:"clickable color-#3F80F7! flex gap-2px"},q={class:"font-500 text-14px lh-[120%] tracking-0% text-[--d-FFF-l-000]"},z={class:"mb-8px text-12px lh-16px"},I={class:"flex-between w-100%"},S=w(e({__name:"proGroups",props:{options:{type:Array,default:()=>[]},modelValue:{type:Number,default:0}},emits:["onConfirm","onDelete","onCancel","update:modelValue","onChangeIndex","onAdd","update:options"],setup(e,{emit:w}){const S=w,U=e,D=l({buttonRefs:{}}),M=l(U.options);a((()=>U.options),(e=>{M.value=e}));const N=l(""),O=l(""),P=l({}),B=l(),E=l(!1),J=l(),K=l(),T=l(),W=l(),H=l(),L=l(!1);function Q(){P.value[B.value]=!0,C((()=>{var e;null==(e=document.querySelector(".name-input input"))||e.focus()}))}function X(){P.value[B.value]=!1,S("onCancel",B.value)}function Y(){S("onDelete",B.value)}function Z(){var e,l;S("onAdd",O.value),null==(l=null==(e=T.value)?void 0:e.close)||l.call(e)}function ee(){var e,l;null==(l=null==(e=H.value)?void 0:e.hide)||l.call(e)}return a(O,(e=>{})),(e,l)=>{const a=x,C=k,w=h,le=g;return o(),t(n,null,[s("ul",A,[s("li",{class:p(["clickable",{active:0===U.modelValue}]),onClick:l[0]||(l[0]=r((e=>S("update:modelValue",0)),["stop","prevent"]))},[s("span",null,i(e.$t("defaultGroup")),1)],2),(o(!0),t(n,null,c(U.options,(e=>(o(),t("li",{key:e.group_id,class:p(["clickable flex gap-2px",{active:U.modelValue===e.group_id,"px-0px!":d(P)[e.group_id]}]),onClick:r((l=>S("update:modelValue",e.group_id)),["stop","prevent"])},[d(P)[e.group_id]?(o(),f(C,{key:0,modelValue:d(N),"onUpdate:modelValue":l[2]||(l[2]=e=>v(N)?N.value=e:null),style:{width:"140px"},size:"default",class:"name-input"},{suffix:m((()=>[u(a,{name:"mynaui:x-square-solid",class:"text-18px color-[var(--d-F5F5F5-l-222)] clickable",onClick:r(X,["stop","prevent"])}),u(a,{name:"mynaui:check-square-solid",class:p(["text-18px color-[var(--d-F5F5F5-l-222)] clickable",{"cursor-not-allowed":!d(N)}]),onClick:l[1]||(l[1]=r((e=>d(N)&&(P.value[B.value]=!1,void S("onConfirm",B.value,N.value))),["stop","prevent"]))},null,8,["class"])])),_:1},8,["modelValue"])):(o(),t(n,{key:1},[s("span",null,i(e.name),1),b(u(a,{ref_for:!0,ref:l=>d(D).buttonRefs[e.group_id]=l,name:"mdi:dots-vertical",class:"text-14px",onClick:r((l=>{J.value=d(D).buttonRefs[e.group_id],E.value=!0,B.value=e.group_id,N.value=e.name}),["stop","prevent"])},null,8,["onClick"]),[[d(R),()=>E.value=!1]])],64))],10,G)))),128)),s("li",{ref_key:"addButtonRef",ref:K,class:"clickable color-#3F80F7! flex gap-2px"},[u(a,{name:"material-symbols:add-circle",class:"text-12px"}),s("span",null,i(e.$t("newGroup")),1)],512),u(le,{width:293,trigger:"click",ref_key:"popoverRef2",ref:H},{reference:m((()=>[s("li",j,[u(a,{name:"material-symbols:format-list-bulleted",class:"text-12px"}),s("span",null,i(e.$t("groupManage")),1)])])),default:m((()=>[s("div",q,[s("div",z,i(e.$t("groupManage")),1),u(d($),_({class:"flex flex-col mb-12px",tag:"ul",modelValue:d(M),"onUpdate:modelValue":l[3]||(l[3]=e=>v(M)?M.value=e:null)},{animation:200},{onStart:l[4]||(l[4]=e=>L.value=!0),onEnd:l[5]||(l[5]=e=>L.value=!1),"item-key":"show_index"}),{default:m((()=>[u(y,{type:"transition",name:"flip-list"},{default:m((()=>[(o(!0),t(n,null,c(d(M),(e=>(o(),t("li",{key:e.show_index,class:"flex-between px-12px py-8px hover:bg-[--d-2A2A2A-l-F2F2F2] cursor-move"},[s("span",null,i(e.name),1),u(a,{name:"material-symbols:dehaze"})])))),128))])),_:1})])),_:1},16,["modelValue"]),s("div",I,[u(w,{style:{background:"var(--d-333-l-F2F2F2)","--el-border":"none"},class:"flex-1",onClick:l[6]||(l[6]=r((()=>{var e,l;return null==(l=null==(e=d(H))?void 0:e.hide)?void 0:l.call(e)}),["stop","prevent"]))},{default:m((()=>[F(i(e.$t("cancel")),1)])),_:1}),u(w,{type:"primary",class:"flex-1",onClick:r(ee,["stop","prevent"])},{default:m((()=>[F(i(e.$t("confirm")),1)])),_:1})])])])),_:1},512)]),u(le,{ref_key:"popoverRef",ref:W,visible:d(E),"virtual-ref":d(J),trigger:"click",title:"","virtual-triggering":"","popper-style":"width: 86px;min-width: 86px;"},{default:m((()=>[s("ul",null,[s("li",{class:"font-500 text-14px lh-[100%] tracking-0px mb-20px flex-start gap-4px clickable",onClick:r(Q,["stop","prevent"])},[u(a,{name:"fe:edit",class:"color-#666 text-14px mt-3px"}),s("span",null,i(e.$t("rename")),1)]),s("li",{class:"font-500 text-14px lh-[100%] tracking-0px clickable flex-start gap-4px",onClick:r(Y,["stop","prevent"])},[u(a,{name:"bx:bxs-trash-alt",class:"text-15px color-#666 mt-3px"}),s("span",null,i(e.$t("delete")),1)])])])),_:1},8,["visible","virtual-ref"]),u(V,{ref_key:"proPopoverRef",ref:T,modelValue:d(O),"onUpdate:modelValue":l[7]||(l[7]=e=>v(O)?O.value=e:null),"button-ref":d(K)||{},width:"248",label:e.$t("newGroup"),placeholder:e.$t("groupPlaceholder"),prop:"name",title:e.$t("newGroup"),onOnConfirm:Z},null,8,["modelValue","button-ref","label","placeholder","title"])],64)}}}),[["__scopeId","data-v-4ef1a1d3"]]);export{S as default};
