import{f as e,a8 as a,a9 as s,p as t,h as l,q as r,s as o,l as n,i,z as c,B as d,x as u,C as p,c as m,o as v,G as x,I as _,D as g,b as h,H as f,w,j as k,a as y,t as b,J as C,K as S,n as F,U as j,ag as z,ah as $,Y as B,X as T,d as A,$ as R,a0 as E,ae as H,W as M,V as N,S as V,a2 as W,ai as Y,aj as D,ak as U,a6 as I,al as J,_ as K}from"./C1fvdsSF.js";import{E as q,a as G}from"./rP0JeNkw.js";import{E as L}from"./B9V7tZnB.js";import"./BfEthlv8.js";import"./BpYdBJN9.js";import"./X6ThVr0t.js";import{h as O}from"./fqR6pdbk.js";import"./Cg-3-cPy.js";const P={key:0},X={key:0,class:"flex flex-col items-center justify-center py-30px"},Q={key:0,src:R},Z={key:1,src:E},ee={key:1},ae={class:"text-12px mt-10px"},se={class:"flex items-center"},te={class:"text-[#848E9C] text-12px mr-5px"},le={class:"ml-5px"},re={class:"flex items-center"},oe={class:"text-14px max-w-[95px] truncate"},ne=["onClick"],ie={class:"flex items-center mt-2px"},ce={class:"text-[#666]"},de={key:0},ue={key:1,class:"text-[#666]"},pe={key:0},me={key:1,class:"text-[#666]"},ve=["href"],xe=["onClick"],_e={class:"overflow-hidden whitespace-nowrap max-w-0 group-hover:max-w-[100px] transition-all duration-500 ease-in-out"},ge={key:1,class:"flex items-center mr-12px color-[#666] cursor-not-allowed"},he={class:"flex items-center justify-between mt-12px gap-12px"},fe=K(e({__name:"index",setup(e){const R=a(),E=s(),K=t(),{t:fe}=l(),we=r(""),ke=r(!1),ye=r({x:0,y:0}),be=r({getBoundingClientRect:()=>({width:0,height:0,top:ye.value.y,left:ye.value.x,bottom:ye.value.y,right:ye.value.x}),get clientWidth(){return 0},get clientHeight(){return 0}}),Ce=r({}),Se=r(!1),Fe=r({total:0,page:1,pageSize:50}),je=r([]),{mode:ze}=o(n()),$e=i((()=>R.evmAddress||E.address));c((()=>E.walletSignature[E.address]),(e=>{e&&Ae()})),c((()=>R.evmAddress),(e=>{e?Ae():je.value=[]})),c((()=>E.address),(e=>{e?Ae():je.value=[]}));const Be=e=>{K.push(`/address/${e.user_address}-${e.user_chain}`)},Te=({prop:e,order:a})=>{e&&("ascending"===a?je.value=je.value.toSorted(((a,s)=>a[e]-s[e])):"descending"===a&&(je.value=je.value.toSorted(((a,s)=>s[e]-a[e]))))},Ae=async()=>{var e;const a=await O({address:$e.value,pageNO:Fe.value.page,pageSize:Fe.value.pageSize,time_interval:"7d",sort_dir:"desc"}),s=a.data&&(null==(e=a.data)?void 0:e.map((e=>({...e,total_txs:Re(e.total_sold).plus(Re(e.total_purchase)).toString(),total_txs_usd:Re(e.total_sold_usd).plus(Re(e.total_purchase_usd)).toString()}))))||[];Fe.value.total=a.total,je.value=s};function Re(e){try{const a=new d(e);return a.isFinite()?a:new d(0)}catch(a){return new d(0)}}return u((()=>{(R.evmAddress||E.address)&&Ae()})),(e,a)=>{const s=M,t=H,l=C,r=j,o=q,n=z,i=G,c=L,d=N,u=V,K=p("copy"),O=f;return v(),m("div",null,[x((v(),_(i,{class:"mt-12px",height:"calc(100vh - 210px)","row-class-name":"group",data:je.value,fit:"",onSortChange:Te,onRowClick:Be},{empty:w((()=>[k(R).evmAddress||k(E).address?(v(),m("div",P,[Se.value?(v(),m("span",ee)):(v(),m("div",X,["light"===k(ze)?(v(),m("img",Q)):g("",!0),"dark"===k(ze)?(v(),m("img",Z)):g("",!0),y("span",null,b(k(fe)("emptyNoData")),1)]))])):(v(),_(t,{key:1},{default:w((()=>[y("span",ae,b(e.$t("noWalletTip")),1),h(s,{type:"primary",class:"mt-10px",onClick:a[0]||(a[0]=e=>k(R).$patch({connectVisible:!0}))},{default:w((()=>[A(b(e.$t("connectWallet")),1)])),_:1})])),_:1}))])),default:w((()=>[h(o,{label:k(fe)("address"),"min-width":"160","show-overflow-tooltip":""},{default:w((({row:e,$index:s})=>[y("div",se,[y("span",te," #"+b((Fe.value.page-1)*Fe.value.pageSize+s+1),1),h(l,{name:"custom:attention",class:F([1===e.is_wallet_address_fav?"color-[#F45469]":"color-[#999]","color-var(--d-999-l-666) h-16px w-16px clickable shrink-0"]),onClick:S((a=>(async e=>{E.address&&!E.walletSignature[E.address]&&await E.signMessageForFavorite(),Se.value=!0,(1===e.is_wallet_address_fav?I:J)({address:$e.value,user_address:e.user_address,user_chain:e.user_chain}).then((()=>{W.success(1===e.is_wallet_address_fav?fe("attention1Canceled"):fe("attention1Success")),Ae()})).catch((e=>{})).finally((()=>{Se.value=!1}))})(e)),["stop","prevent"])},null,8,["class","onClick"]),h(r,{class:"mx-8px",wallet_logo:e.wallet_logo,address:e.user_address,chain:e.user_chain,iconSize:"24px"},null,8,["wallet_logo","address","chain"]),y("div",le,[y("div",re,[y("span",oe,b(e.remark),1),y("div",{ref:"buttonRef",onClick:S((a=>((e,a)=>{const s=a.currentTarget.getBoundingClientRect();ye.value={x:s.left+s.width/2,y:s.top+s.height/2},ke.value=!0,Ce.value=e,we.value=e.remark||""})(e,a)),["stop","prevent"])},[h(l,{class:"text-[--d-666-l-999] w-12px h-12px ml-4px",name:"custom:remark"})],8,ne)]),y("div",ie,[x(h(l,{onClick:a[1]||(a[1]=S((()=>{}),["stop","prevent"])),name:"bxs:copy",class:"clickable text-[--d-666-l-999]"},null,512),[[K,null==e?void 0:e.user_address]]),h(l,{name:"custom:sun-icon",class:"text-12px mx-5px"}),h(l,{name:"custom:wallet-icon",class:"text-12px"})])])])])),_:1},8,["label"]),h(o,{label:k(fe)("noteTime"),align:"right"},{default:w((({row:a})=>[h(n,{placement:"right",content:k($)(a.create_time).format("YYYY-MM-DD HH:mm:ss")},{default:w((()=>[y("div",ce,b(("formatTimeFromNow"in e?e.formatTimeFromNow:k(B))(null==a?void 0:a.create_time)),1)])),_:2},1032,["content"])])),_:1},8,["label"]),h(o,{label:k(fe)("tokenBalance"),align:"right"},{default:w((({row:e})=>[y("div",null,[(null==e?void 0:e.main_token_balance_amount)>0?(v(),m("div",de,b(k(T)((null==e?void 0:e.main_token_balance_amount)||0,2))+"Â "+b(e.main_token_symbol),1)):(v(),m("div",ue," 0 "))])])),_:1},8,["label"]),h(o,{label:k(fe)("walletTotalBalance"),align:"right"},{default:w((({row:e})=>[y("div",null,[(null==e?void 0:e.total_balance)>0?(v(),m("div",pe," $"+b(k(T)((null==e?void 0:e.total_balance)||0,1)),1)):(v(),m("div",me," $0 "))])])),_:1},8,["label"]),h(o,{label:k(fe)("pushTitle"),align:"right"},{default:w((({row:e})=>[y("div",{class:"flex flex-row-reverse",onClick:a[2]||(a[2]=S((()=>{}),["stop"]))},[y("a",{class:"flex items-center",href:`https://t.me/AveSniperBot?start=fs-${e.user_chain}-${e.user_address}`,target:"_blank"},[h(l,{name:"custom:documentary-wallet",class:"text-16px mr-2px"}),A(" "+b(k(fe)("documentation")),1)],8,ve),"solana"===(null==e?void 0:e.user_chain)||"bsc"===(null==e?void 0:e.user_chain)?(v(),m("div",{key:0,class:"flex items-center mr-12px cursor-pointer color-[#666] group-hover:color-[var(--d-F2F2F2-l-333)]",onClick:a=>(async e=>R.evmAddress?0===e.is_wallet_address_fav?W.warning(fe("monitorError")):(0===(null==e?void 0:e.is_monitored)?await Y({address:e.user_address,app:0,buy:1,chain:e.user_chain,sell:1,telegram:0,user_address:$e.value,website:1}):await D({address:e.user_address,uid:e.id}),W.success(fe("success")),void Ae()):W.warning(fe("noBotWalletTip")))(e)},[h(l,{name:"custom:monitor-icon",class:"text-16px mr-2px"}),y("span",_e,b(1===(null==e?void 0:e.is_monitored)?k(fe)("pauseMonitor"):k(fe)("openMonitor")),1)],8,xe)):(v(),m("div",ge,[h(l,{name:"custom:monitor-icon",class:"text-16px mr-2px"})]))])])),_:1},8,["label"])])),_:1},8,["data"])),[[O,Se.value]]),Fe.value.total>1?(v(),_(c,{key:0,class:"mt-15px","current-page":Fe.value.page,"onUpdate:currentPage":a[3]||(a[3]=e=>Fe.value.page=e),"page-size":Fe.value.pageSize,"onUpdate:pageSize":a[4]||(a[4]=e=>Fe.value.pageSize=e),layout:"prev, pager, next, ->",total:Fe.value.total,"page-sizes":[10,20,30,40,50,60],onChange:Ae},null,8,["current-page","page-size","total"])):g("",!0),h(u,{visible:ke.value,"virtual-ref":be.value,"virtual-triggering":"",trigger:"click",width:250},{default:w((()=>[y("div",null,[y("div",null,b(k(fe)("editRemark")),1),h(d,{modelValue:we.value,"onUpdate:modelValue":a[5]||(a[5]=e=>we.value=e),clearable:"",maxlength:"50","show-word-limit":"",placeholder:k(fe)("enterRemark"),class:"mt-8px w-200px"},null,8,["modelValue","placeholder"]),y("div",he,[y("div",{onClick:a[6]||(a[6]=e=>ke.value=!1),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[--d-333-l-0A0B0C] px-12px py-8px rounded-4px"},b(k(fe)("cancel")),1),y("div",{onClick:a[7]||(a[7]=e=>(async e=>{if(we.value.length>50)return W.error(fe("remarkError"));await U({remark:we.value,user_address:e.user_address,user_chain:e.user_chain,self_address:$e.value}),W.success(fe("success")),ke.value=!1,Ae()})(Ce.value)),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},b(k(fe)("confirm")),1)])])])),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-6e568cce"]]);export{fe as default};
