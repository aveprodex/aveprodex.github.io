import{f as e,h as l,s as t,l as a,q as r,i as o,v as p,z as s,I as i,o as u,w as d,b as n,aq as f,K as c,j as m,ar as v,V as g,a as b,W as y,d as h,t as x,S as _,_ as q}from"./C1fvdsSF.js";const F={class:"flex-between w-100%"},S=q(e({__name:"proPopover",props:{width:{type:String,default:"248"},required:{type:Boolean,default:!0},label:{type:String,default:""},prop:{type:String,default:""},placeholder:{type:String,default:""},modelValue:{type:String,default:""},rule:{type:Function,default:()=>{}},buttonRef:{type:Object,required:!0},maxlength:{type:Number,default:20},title:{type:String,default:""}},emits:["update:visible","update:modelValue","onConfirm","onCancel"],setup(e,{expose:q,emit:S}){const{t:V}=l(),{lang:w}=t(a()),k=e,z=S,C=r(),R=o((()=>k.placeholder??V("placeholderPrefix")+k.label)),j=o((()=>({[k.prop]:[{required:k.required,message:k.label+(w.value.indexOf("zh")>-1?"":"&nbsp;")+V("cannotBeEmpty"),trigger:"blur"}]}))),B=r(),I=p({[k.prop]:k.modelValue});function O(){var e;null==(e=B.value)||e.resetFields(),P()}function P(){var e,l;null==(l=null==(e=m(C))?void 0:e.hide)||l.call(e)}return s((()=>I[k.prop]),(e=>{z("update:modelValue",e)})),q({close:P}),(e,l)=>{const t=g,a=v,r=y,o=f,p=_;return u(),i(p,{ref_key:"popoverRef",ref:C,width:null==k?void 0:k.width,trigger:"click",placement:"bottom","virtual-ref":k.buttonRef,"virtual-triggering":"",title:null==k?void 0:k.title,persistent:!1,teleported:!0,"popper-class":"","popper-style":"--el-popover-title-font-size:12px;--el-popover-title-text-color:var(--d-FFF-l-000)"},{default:d((()=>[n(o,{ref_key:"formRef",ref:B,model:m(I),rules:m(j),onSubmit:l[1]||(l[1]=c((e=>{var l;(l=m(B))&&l.validate(((e,l)=>{var t;e&&(z("onConfirm",I[k.prop]),null==(t=B.value)||t.resetFields())}))}),["prevent","stop"]))},{default:d((()=>[n(a,{prop:k.prop,required:k.required,"label-position":"top",size:"large",class:"mb-12px!"},{default:d((()=>[n(t,{modelValue:m(I)[k.prop],"onUpdate:modelValue":l[0]||(l[0]=e=>m(I)[k.prop]=e),placeholder:m(R),maxlength:k.maxlength},null,8,["modelValue","placeholder","maxlength"])])),_:1},8,["prop","required"]),n(a,{class:"mb-0px!"},{default:d((()=>[b("div",F,[n(r,{style:{background:"var(--d-333-l-F2F2F2)"},class:"flex-1",onClick:c(O,["stop","prevent"])},{default:d((()=>[h(x(e.$t("cancel")),1)])),_:1}),n(r,{type:"primary",class:"flex-1","native-type":"submit"},{default:d((()=>[h(x(e.$t("confirm")),1)])),_:1})])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["width","virtual-ref","title"])}}}),[["__scopeId","data-v-9c00b2af"]]);export{S as default};
