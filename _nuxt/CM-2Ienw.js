import{dP as e,dU as a,bB as i,bn as t,b5 as n,bq as l,bp as c,br as s,bs as o,bt as v,dm as d,eS as u,b9 as r,f as b,bC as f,bH as p,bb as m,bG as y,dW as h,i as k,q as I,eO as x,z as g,bE as V,x as T,c as w,o as S,a as _,D as B,b0 as C,j as E,n as P,I as A,w as N,bh as L,bf as K,t as j,bg as q,b as z,ew as D,P as $,K as F,ao as G,eT as H,bD as M,bk as O}from"./C1fvdsSF.js";const U=100,W=600,J={beforeMount(a,i){const t=i.value,{interval:n=U,delay:l=W}=e(t)?{}:t;let c,s;const o=()=>e(t)?t():t.handler(),v=()=>{s&&(clearTimeout(s),s=void 0),c&&(clearInterval(c),c=void 0)};a.addEventListener("mousedown",(e=>{0===e.button&&(v(),o(),document.addEventListener("mouseup",(()=>v()),{once:!0}),s=setTimeout((()=>{c=setInterval((()=>{o()}),n)}),l))}))}},Q=n({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:u},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:d},activeActionIcon:{type:d},activeIcon:{type:d},inactiveIcon:{type:d},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:v(Function)},id:String,tabindex:{type:[String,Number]},...o(["ariaLabel"])}),R={[s]:e=>a(e)||i(e)||t(e),[c]:e=>a(e)||i(e)||t(e),[l]:e=>a(e)||i(e)||t(e)},X="ElSwitch",Y=b({name:X});const Z=O(r(b({...Y,props:Q,emits:R,setup(e,{expose:i,emit:t}){const n=e,{formItem:o}=f(),v=p(),d=m("switch"),{inputId:u}=y(n,{formItemContext:o}),r=h(k((()=>n.loading))),b=I(!1!==n.modelValue),O=I(),U=I(),W=k((()=>[d.b(),d.m(v.value),d.is("disabled",r.value),d.is("checked",Z.value)])),J=k((()=>[d.e("label"),d.em("label","left"),d.is("active",!Z.value)])),Q=k((()=>[d.e("label"),d.em("label","right"),d.is("active",Z.value)])),R=k((()=>({width:x(n.width)})));g((()=>n.modelValue),(()=>{b.value=!0}));const Y=k((()=>!!b.value&&n.modelValue)),Z=k((()=>Y.value===n.activeValue));[n.activeValue,n.inactiveValue].includes(Y.value)||(t(s,n.inactiveValue),t(c,n.inactiveValue),t(l,n.inactiveValue)),g(Z,(e=>{var a;O.value.checked=e,n.validateEvent&&(null==(a=null==o?void 0:o.validate)||a.call(o,"change").catch((e=>V())))}));const ee=()=>{const e=Z.value?n.inactiveValue:n.activeValue;t(s,e),t(c,e),t(l,e),G((()=>{O.value.checked=Z.value}))},ae=()=>{if(r.value)return;const{beforeChange:e}=n;if(!e)return void ee();const i=e();[H(i),a(i)].includes(!0)||M(X,"beforeChange must return type `Promise<boolean>` or `boolean`"),H(i)?i.then((e=>{e&&ee()})).catch((e=>{})):i&&ee()};return T((()=>{O.value.checked=Z.value})),i({focus:()=>{var e,a;null==(a=null==(e=O.value)?void 0:e.focus)||a.call(e)},checked:Z}),(e,a)=>(S(),w("div",{class:P(E(W)),onClick:F(ae,["prevent"])},[_("input",{id:E(u),ref_key:"input",ref:O,class:P(E(d).e("input")),type:"checkbox",role:"switch","aria-checked":E(Z),"aria-disabled":E(r),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:E(r),tabindex:e.tabindex,onChange:ee,onKeydown:C(ae,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?B("v-if",!0):(S(),w("span",{key:0,class:P(E(J))},[e.inactiveIcon?(S(),A(E(K),{key:0},{default:N((()=>[(S(),A(L(e.inactiveIcon)))])),_:1})):B("v-if",!0),!e.inactiveIcon&&e.inactiveText?(S(),w("span",{key:1,"aria-hidden":E(Z)},j(e.inactiveText),9,["aria-hidden"])):B("v-if",!0)],2)),_("span",{ref_key:"core",ref:U,class:P(E(d).e("core")),style:$(E(R))},[e.inlinePrompt?(S(),w("div",{key:0,class:P(E(d).e("inner"))},[e.activeIcon||e.inactiveIcon?(S(),A(E(K),{key:0,class:P(E(d).is("icon"))},{default:N((()=>[(S(),A(L(E(Z)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(S(),w("span",{key:1,class:P(E(d).is("text")),"aria-hidden":!E(Z)},j(E(Z)?e.activeText:e.inactiveText),11,["aria-hidden"])):B("v-if",!0)],2)):B("v-if",!0),_("div",{class:P(E(d).e("action"))},[e.loading?(S(),A(E(K),{key:0,class:P(E(d).is("loading"))},{default:N((()=>[z(E(D))])),_:1},8,["class"])):E(Z)?q(e.$slots,"active-action",{key:1},(()=>[e.activeActionIcon?(S(),A(E(K),{key:0},{default:N((()=>[(S(),A(L(e.activeActionIcon)))])),_:1})):B("v-if",!0)])):E(Z)?B("v-if",!0):q(e.$slots,"inactive-action",{key:2},(()=>[e.inactiveActionIcon?(S(),A(E(K),{key:0},{default:N((()=>[(S(),A(L(e.inactiveActionIcon)))])),_:1})):B("v-if",!0)]))],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?B("v-if",!0):(S(),w("span",{key:1,class:P(E(Q))},[e.activeIcon?(S(),A(E(K),{key:0},{default:N((()=>[(S(),A(L(e.activeIcon)))])),_:1})):B("v-if",!0),!e.activeIcon&&e.activeText?(S(),w("span",{key:1,"aria-hidden":!E(Z)},j(e.activeText),9,["aria-hidden"])):B("v-if",!0)],2))],10,["onClick"]))}}),[["__file","switch.vue"]]));export{Z as E,J as v};
