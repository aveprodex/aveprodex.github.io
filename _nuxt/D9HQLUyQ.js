import{f as l,a8 as e,aa as t,aR as n,aK as a,aL as i,av as s,q as o,i as u,aQ as r,C as p,c,o as d,a as v,b as x,D as m,t as g,V as f,b0 as h,j as b,T as F,w,F as S,r as k,K as y,n as C,S as $,G as _,J as V,b1 as L,d as T,B,b2 as q,aM as M,aH as j}from"./C1fvdsSF.js";import{S as Q}from"./B-tTJccZ.js";const A={class:"items-center inline-flex"},H={class:"ml-5px mr-5px color-[--d-999-l-666] text-12px"},K=["src"],U={key:0,class:"ml-20px flex justify-end items-center text-12px"},D={class:"color-[--d-999-l-666] mr-5px"},G={class:"flex items-center justify-between p-1px rounded-4px text-12px h-28px bg-[--d-222-l-F2F2F2] px-2px py-2px"},N=["id","onClick","onMouseenter"],P={class:"text-14px mt-4px mb-4px flex-start"},R={key:0},E={key:1},I={key:0,class:"text-14px mt-4px mb-4px flex-start"},J={key:1,class:"text-14px mt-4px mb-4px flex-start"},O={class:"text-14px mt-4px mb-4px flex-start"},Z={class:"mr-4px color-[--d-666-l-999] text-14px"},z={class:"text-14px mt-4px mb-4px flex-start"},W={class:"mr-4px color-[--d-666-l-999] text-14px"},X=l({__name:"quickSwapSet",props:{chain:{},quickBuyValue:{default:"0.01"},showQuickAmount:{type:Boolean}},emits:["update:quickBuyValue"],setup(l,{emit:X}){const Y=e(),ll=t(),el=n(),tl=a(),nl=i(),al=X,il=l,sl=s(0),ol=o(!1),ul=o("s1"),rl=o({}),pl=o(null),cl=u((()=>{var l,e;const t=il.chain;if(!Y.isSupportChains.includes(t))return"";const n=null==(e=null==(l=tl.botSettings)?void 0:l[t])?void 0:e[ul.value],a=null==n?void 0:n.mev,{gasTip1List:i,gasTip2List:s}=r(el.gasTip,t),o=a?i:s,u=a?0:1,p=null==n?void 0:n.gas[u];return(null==p?void 0:p.customFee)||(null==o?void 0:o[null==p?void 0:p.level])})),dl=u({get:()=>il.quickBuyValue,set(l){al("update:quickBuyValue",l)}});function vl(l){l&&(null==l?void 0:l.id)&&(rl.value[null==l?void 0:l.id]=l)}function xl(l){ul.value=l,pl.value=rl.value[l]||null,ol.value=!0,function(){var l;const e=il.chain;if(!L(e))return;null==(l=q(e))||l.getFeeData().then((l=>{l&&(sl.value=new B(l.gasPrice||0).toNumber())}))}()}function ml(){var l,e,t,n,a,i,s,o;const u=il.chain;if(L(u)&&(null==(l=null==Y?void 0:Y.isSupportChains)?void 0:l.includes(u))){const l=null==(t=null==(e=tl.botSettings)?void 0:e[u])?void 0:t[ul.value],p=null==l?void 0:l.mev,c=(null==(a=null==(n=el.mainTokensPrice)?void 0:n.find((l=>{var e;return l.chain===u&&l.token===(null==(e=M(u))?void 0:e.wmain_wrapper)})))?void 0:a.current_price_usd)||nl.swap.native.price||0,{gasTip1List:d,gasTip2List:v}=r(el.gasTip,u),x=p?d:v,m=p?null==l?void 0:l.gas[0]:null==l?void 0:l.gas[1],g=(null==m?void 0:m.customFee)||(null==x?void 0:x[null==m?void 0:m.level])||"3",f=(null==(o=null==(s=null==(i=el.gasTip)?void 0:i.find)?void 0:s.call(i,(l=>l.chain===u&&l.mev===!!p)))?void 0:o.gasLimit)||2e5;return j(new B(sl.value).plus(new B(g).times(String(10**9))).times(f).times(c).div(String(10**18)).toFixed(),2)}return 0}return(l,e)=>{var t;const n=f,a=V,i=$,s=p("tooltip");return d(),c("div",A,[e[6]||(e[6]=v("img",{src:"data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='7'%20cy='7'%20r='7'%20fill='%23F5F5F5'/%3e%3cpath%20d='M9.98059%206.49317C9.94861%206.41742%209.87664%206.36693%209.79668%206.36693H7.99753V3.21088C7.99753%203.12251%207.94555%203.04677%207.86959%203.0131C7.79363%202.98365%207.70567%203.00469%207.64969%203.06781L4.05139%207.28008C3.99942%207.3432%203.98342%207.43157%204.01941%207.50731C4.05139%207.58306%204.12336%207.63355%204.20332%207.63355H6.00247V10.7896C6.00247%2010.878%206.05445%2010.9537%206.13041%2010.9874C6.1544%2010.9958%206.17839%2011%206.20238%2011C6.25835%2011%206.31033%2010.9748%206.35031%2010.9285L9.94861%206.7204C10.0006%206.65728%2010.0166%206.56891%209.98059%206.49317Z'%20fill='%23333333'/%3e%3c/svg%3e",class:"w-14px h-14px",alt:"",srcset:""},null,-1)),v("span",H,g(l.$t("quick")),1),x(n,{modelValue:b(dl),"onUpdate:modelValue":e[0]||(e[0]=l=>F(dl)?dl.value=l:null),modelModifiers:{trim:!0},style:{background:"var(--d-222-l-F2F2F2)","--el-input-bg-color":"var(--d-222-l-F2F2F2)","--el-input-border-color":"var(--d-222-l-F2F2F2)","border-radius":"4px",width:"88px",height:"28px"},placeholder:"0",clearable:"",type:"text",onInput:e[1]||(e[1]=l=>{dl.value=l.replace(/\-|[^\d.]/g,"")}),onBlur:e[2]||(e[2]=l=>function(l){const e=l,t=new B(e||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,4})?"))[0];String(e)!==String(t)&&(""===e?dl.value="":0===Number(t)?dl.value="0":dl.value=t)}(b(dl))),onKeydown:e[3]||(e[3]=h((l=>{var e;return null==(e=null==l?void 0:l.target)?void 0:e.blur()}),["enter"]))},{prefix:w((()=>[v("img",{class:"rounded-full w-14px h-14px mr-4px!",src:`${b(ll).token_logo_url}chain/${l.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,K)])),_:1},8,["modelValue"]),l.chain&&b(Y).isSupportChains.includes(l.chain)?(d(),c("div",U,[v("span",D,g(l.$t("default")),1),v("div",G,[(d(),c(S,null,k(["s1","s2","s3"],(t=>{var n,a;return v("button",{id:t,key:t,ref_for:!0,ref:vl,class:C(["color-[--d-666-l-999] cursor-pointer border-none font-400 rounded-4px min-w-36px py-5px px-10px text-center",""+(t===(null==(a=null==(n=b(tl).botSettings)?void 0:n[l.chain])?void 0:a.selected)?"color-[--d-F5F5F5-l-333] bg-[--d-111-l-FFF]":"bg-transparent")]),type:"button",onClick:y((e=>b(tl).botSettings[l.chain].selected=t),["stop"]),onMouseenter:l=>xl(t),onMouseleave:e[4]||(e[4]=l=>ol.value=!1)},g(t.toUpperCase()),43,N)})),64))])])):m("",!0),x(Q,{class:"ml-12px",chain:l.chain,setting:null==(t=b(tl))?void 0:t.botSettings[l.chain],showQuickAmount:l.showQuickAmount},null,8,["chain","setting","showQuickAmount"]),x(i,{visible:b(ol),"onUpdate:visible":e[5]||(e[5]=l=>F(ol)?ol.value=l:null),"virtual-ref":b(pl),"virtual-triggering":"",trigger:"contextmenu",placement:"bottom"},{default:w((()=>{var e,t,n,i,o,u,r,p,f,h,F,w;return[v("ul",null,[v("li",P,[_(x(a,{name:"custom:slippage",class:"text-12px color-[--d-666-l-999] ml-0 mr-6px cursor-pointer"},null,512),[[s,l.$t("slippage")]]),"auto"!==(null==(n=null==(t=null==(e=b(tl).botSettings)?void 0:e[l.chain||""])?void 0:t[b(ul)])?void 0:n.slippage)?(d(),c("span",R,g(null==(u=null==(o=null==(i=b(tl).botSettings)?void 0:i[l.chain||""])?void 0:o[b(ul)])?void 0:u.slippage)+"%",1)):(d(),c("span",E,g(l.$t("auto")),1))]),b(L)(l.chain||"")?(d(),c("li",I,[_(x(a,{name:"custom:gas",class:"text-12px color-[--d-666-l-999] ml-0 mr-6px cursor-pointer"},null,512),[[s,l.$t("estimatedGas")]]),v("span",null,"$"+g(ml()),1)])):m("",!0),"solana"===l.chain?(d(),c("li",J,[_(x(a,{name:"custom:gas",class:"text-12px color-[--d-666-l-999] mr-6px cursor-pointer ml-0"},null,512),[[s,l.$t("priorityFee")]]),v("span",null,g(b(cl))+" SOL",1)])):m("",!0),v("li",O,[v("span",Z,g(l.$t("autoSellHalf")),1),T(" "+g((null==(f=null==(p=null==(r=b(tl).botSettings)?void 0:r[l.chain])?void 0:p[b(ul)])?void 0:f.autoSell)?l.$t("on"):l.$t("off")),1)]),v("li",z,[v("span",W,g(l.$t("mev")),1),T(" "+g((null==(w=null==(F=null==(h=b(tl).botSettings)?void 0:h[l.chain])?void 0:F[b(ul)])?void 0:w.mev)?l.$t("on"):l.$t("off")),1)])])]})),_:1},8,["visible","virtual-ref"])])}}});export{X as _};
